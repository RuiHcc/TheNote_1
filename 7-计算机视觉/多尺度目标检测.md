### 多尺度锚框的生成
为了减少图像上的锚框数量，我们可以在输入图像中均匀**采样一小部分**像素，并以它们为中心生成锚框。 此外，在不同尺度下，我们可以生成**不同数量**和**不同大小**的锚框。


## 物体检测算法：R-CNN，SSD，YOLO

R-CNN：基于锚框和CNN做目标检测算法
![[Pasted image 20250416191944.png | 600]]
1、使用启发式搜索算法来选择锚框
2、使用预训练模型来**对每个锚框**抽取特征
3、训练一个SVM来对类别分类（过去的做法，现在当然CNN）
4、训练一个线性回归模型来预测边缘框的偏移

兴趣区域RoI池化层：不管锚框形状，总能对锚框进行处理
![[Pasted image 20250416192330.png | 300]]
	给定一个锚框，均匀分割为 n-m 块，输出每块中的最大值
	不管锚框多大，总是输出nm个值

Fast RCNN
![[Pasted image 20250416192655.png | 400]]
	1、使用CNN对（整张图片）图片抽取特征（与RCNN的差别）
	2、使用RoI池化层对每个锚框生成固定长度的特征

Faster RCNN ：应用于对精度要求高的场景
![[Pasted image 20250416192929.png | 600]]
	用神经网络来替代启发式搜索算法来获得更好的锚框

Mask R-CNN
![[Pasted image 20250416193409.png | 400]]
	将兴趣区域汇聚层替换为了 _兴趣区域对齐_ 层，使用_双线性插值_（bilinear interpolation）来保留特征图上的空间信息，从而更适于像素级预测。

### SSD：单发多框检测
对每个像素，生成多个以它为中心的锚框
给定n个大小s1, s2, ..., sn和m个高宽比，那么生成n+m-1个锚框，其大小和高宽比分别为：`（s1,r1),(s2,r1),...,(sn,r1),...,(s1,rm)`

#### SSD模型：
单发多框检测模型主要由一个基础网络块和若干多尺度特征块串联而成
![[ssd.svg | 500]]
一个基础网络来抽取特征，然后多个卷积层来减半高宽
在每段都生成锚框
	底部段来拟合小物体，顶部段来拟合大物体
对每个锚框预测类别和边缘框

> SSD通过单神经网络来检测模型
> 以每个像素为中心生成多个锚框
> 在多个段的输出上进行多尺寸的检测

### YOLO：you only look(live) once
SSD中锚框大量重叠，因此浪费了很多计算
YOLO将图片平均分为`s*s`个锚框，每个锚框预测B个边缘框
后续版本（v2, v3, v4, ...)有持续改进--> 工程上的改进




也有不基于锚框的算法：anchor-free
